import{d as C,u as B,r as p,c as _,o as n,a as o,w as a,b as s,f as r,p as R,g as i,$ as f,i as v,a0 as U,k as N,_ as V}from"./index-sNQxKyBm.js";const $=["src"],z=C({__name:"avatar",setup(A){const c=B(),u=p(),t=p(c.user_pic),m=l=>{const e=new FileReader;e.readAsDataURL(l.raw),e.onload=()=>{t.value=e.result}},k=async()=>{(await U(t.value)).code===0&&N.success("更改成功"),c.getuser()};return(l,e)=>{const g=s("el-icon"),w=s("el-upload"),d=s("el-button"),y=s("el-col"),b=s("el-row"),x=s("el-card");return n(),_("div",null,[o(x,{class:"container"},{header:a(()=>[...e[1]||(e[1]=[r("div",{class:"header"},[r("span",null,"更换头像")],-1)])]),default:a(()=>[o(b,null,{default:a(()=>[o(y,{span:12},{default:a(()=>[o(w,{ref_key:"uploadRef",ref:u,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[t.value?(n(),_("img",{key:0,src:t.value,class:"avatar"},null,8,$)):(n(),R(g,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[o(i(f))]),_:1}))]),_:1},512),e[4]||(e[4]=r("br",null,null,-1)),o(d,{type:"primary",icon:i(f),size:"large",onClick:e[0]||(e[0]=E=>u.value.$el.querySelector("input").click())},{default:a(()=>[...e[2]||(e[2]=[v(" 选择图片 ",-1)])]),_:1},8,["icon"]),o(d,{type:"success",size:"large",onClick:k},{default:a(()=>[...e[3]||(e[3]=[v(" 上传头像 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),q=V(z,[["__scopeId","data-v-9248e00b"]]);export{q as default};
