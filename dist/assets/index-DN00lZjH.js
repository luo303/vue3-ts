import{d as C,r as d,u as E,c as N,o as $,a as s,w as o,b as n,e as q,f as p,g as c,h as B,l as H,i as g,j as R,E as U,k as j,_ as D}from"./index-sNQxKyBm.js";const I=()=>{let t="";const l=new Date().getHours();return l<9?t="早上好":l<12?t="上午好":l<13?t="中午好":l<18?t="下午好":t="晚上好",t},L={class:"content"},M={class:"bottom"},S=C({__name:"index",setup(t){const l=d(),w=d({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"用户名必须为3到10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:10,message:"密码必须为6到10位",trigger:"blur"}]}),v=q(),u=E(),a=d({username:"",password:""}),x=async()=>{await l.value.validate();const r=await R(a.value);console.log(r),r.code===0?(u.token=r.token,await u.getuser(),U({title:`Hi,${I()}`,message:`${u.nickname?u.nickname:u.username}欢迎回来`,type:"success",duration:1500}),v.push("/")):j({message:r.message||"登陆失败",type:"error"})};return(r,e)=>{const f=n("el-col"),_=n("el-input"),i=n("el-form-item"),k=n("el-button"),b=n("el-link"),y=n("el-form"),V=n("el-row");return $(),N("div",L,[s(V,null,{default:o(()=>[s(f,{span:12}),s(f,{span:12},{default:o(()=>[s(y,{class:"login_form",model:a.value,rules:w.value,ref_key:"formRef",ref:l},{default:o(()=>[e[5]||(e[5]=p("h1",null,"Hello",-1)),e[6]||(e[6]=p("h4",null,"欢迎来到硅谷甄选",-1)),p("div",M,[s(i,{prop:"username"},{default:o(()=>[s(_,{type:"text","prefix-icon":c(B),class:"el_input",modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value.username=m)},null,8,["prefix-icon","modelValue"])]),_:1}),s(i,{prop:"password"},{default:o(()=>[s(_,{type:"password","show-password":"","prefix-icon":c(H),class:"el_input",modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=m=>a.value.password=m)},null,8,["prefix-icon","modelValue"])]),_:1}),s(i,null,{default:o(()=>[s(k,{type:"primary",class:"button",onClick:x},{default:o(()=>[...e[3]||(e[3]=[g("登录",-1)])]),_:1})]),_:1}),s(i,{class:"flex"},{default:o(()=>[s(b,{type:"info",underline:!1,onClick:e[2]||(e[2]=m=>r.$router.push("/register"))},{default:o(()=>[...e[4]||(e[4]=[g(" 没有账号？点击注册 → ",-1)])]),_:1})]),_:1})])]),_:1},8,["model","rules"])]),_:1})]),_:1})])}}}),z=D(S,[["__scopeId","data-v-211e309d"]]);export{z as default};
